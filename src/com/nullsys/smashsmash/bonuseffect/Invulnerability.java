package com.nullsys.smashsmash.bonuseffect;

import aurelienribon.tweenengine.Tween;
import aurelienribon.tweenengine.equations.Linear;

import com.badlogic.gdx.graphics.g2d.TextureRegion;
import com.badlogic.gdx.math.Vector2;
import com.noobs2d.tweenengine.utils.DynamicSprite;
import com.nullsys.smashsmash.Art;
import com.nullsys.smashsmash.User;

public class Invulnerability extends BonusEffect {

    public Invulnerability(Vector2 position) {
	super.position.set(position);
	body = new DynamicSprite(new TextureRegion(Art.bonusEffects, 0, 129, 115, 124), position.x, position.y);
	pinwheel = new DynamicSprite(new TextureRegion(Art.bonusEffects, 720, 0, 231, 231), position.x, position.y);
	type = INVULNERABILITY;
	pinwheel.interpolateRotation(360, Linear.INOUT, 1000, false).repeat(Tween.INFINITY, 0).start(pinwheel.tweenManager);
    }

    public Invulnerability(Vector2 position, float duration) {
	super.position.set(position);
	super.duration = duration;
	body = new DynamicSprite(new TextureRegion(Art.bonusEffects, 0, 129, 115, 124), position.x, position.y);
	pinwheel = new DynamicSprite(new TextureRegion(Art.bonusEffects, 720, 0, 231, 231), position.x, position.y);
	type = INVULNERABILITY;
	pinwheel.interpolateRotation(360, Linear.INOUT, 1000, false).repeat(Tween.INFINITY, 0).start(pinwheel.tweenManager);
    }

    @Override
    public void trigger() {
	active = true;
	User.bonusEffects.add(this);
	secondsElapsed = 0;
    }

}
